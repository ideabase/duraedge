{% extends "_layout" %}

{% block feature %}

{% set imageCount = 0 %}

<script>

(function() {
  var nTimer = setInterval(function() {
    if (window.jQuery) {
       imageswitch();
      clearInterval(nTimer);
    }
  }, 100);
})();

(function imageswitch() {
    var photo = $(".feature__image");
    $("content").scroll(function() {
        var scroll = $("content").scrollTop();

        if (scroll >= 200) {
          {% set newImg = imageCount + 1 %}
            photo.removeClass('image{{imageCount}}').addClass("image{{newImg}}");
        } else {
            photo.removeClass("image{{newImg}}").addClass('image{{imageCount}}');
        }
    });
});
</script>

<main role="main" class="landing">
  <style>
    {% for image in entry.image %}
        {% set imageCount = loop.index %}
        .image{{loop.index}} {
          background-image: url({{image.url}});"
        }
      {% endfor %}
  </style>
  <div class="feature__image feature__image--landing image1">
  </div>
{% endblock %}

{% block content %}
    <section class="content content--landing">
      {% block subcontent %}
        <p>
          You forgot to include sub content.
        </p>
      {% endblock %}
    </section>
  </main>
{% endblock %}
